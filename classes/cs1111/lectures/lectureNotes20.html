<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" href="../../../images/pabloFaceIcon.png">
    <title>CSCI 1111 Introduction to Software Development</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/4aded636f8.js" crossorigin="anonymous"></script>
  </head>

  <body>
    <div class="container py-1">
      <img class="float-right" src="../../../images/gw_primary_logo.png" alt="GWU" height="160">
      <h1 class="display-3 m-0">CS 1111</h1>
      <p class="lead">Introduction to Software Development</p>
      <p class="lead">GWU Computer Science </p>
    </div>

    <!-- NAVBAR-->
    <div class="container py-0">

      <nav class="navbar navbar-expand-lg navbar-light bg-light my-1">
        <a class="navbar-brand" href="../../index.html">
          <img class="img-fluid mx-auto py-2" src="../../../images/pabloFaceIcon.png" width="30" height="30" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarFive" aria-controls="navbarFive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarFive">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link mx-lg-2" href="../../../index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link mx-lg-2" href="../class-info.html">Class Info</a>
            </li>
            <li class="nav-item">
              <a class="nav-link mx-lg-2" href="../schedule.html">Schedule and Lectures<span class="sr-only">(current page)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link mx-lg-2" href="../labs.html">Labs</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Homework
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown2">
                <a class="dropdown-item" href="#">HW Assignments</a>
                <a class="dropdown-item" href="#">Project 1</a>
                <a class="dropdown-item" href="#">Project 2</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Final Project</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Tools and Links
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Piazza</a>
                <a class="dropdown-item" href="#">BBUltra</a>
                <a class="dropdown-item" href="#">Codio</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">School Calendar</a>
              </div>
            </li>
          </ul>
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link mx-lg-2" href="./lectureNotes19.html">Previous Lecture</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link mx-lg-2" href="./lectureNotes21.html">Next Lecture</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <div class="container  pb-5">
      <div class="col-xs-0 col-md-2"></div>
      <div class="col-xs-12 col-md-10">
      <p>
        <hr>
      </p>
      <!-- CONTENT BELOW -->


      <h1>Lecture Notes 20: Working with Classes and Object-Oriented Design</h1>
      <p>
        <br>
      </p>

      <h2>
        Objectives
      </h2>

      <p>
        By the end of this module, you will be able to:
        <ul>
          <li>Allocate, use, and pass objects as arguments.</li>
          <li>Use null references appropriately.</li>
          <li>Write classes and use objects.</li>
          <li>Use constructors to initialize objects.</li>
        </ul>
      </p>
      
      <p><br></p><hr><p><br></p>

      <h2>
        Before Starting
      </h2>

      <!--
      <ul>
        <li>Read Sections <span style="color: #ff0000; font-weight: bold">16.01 to 16.03</span> in the Codio Course</li>
      </ul>
    -->

      <p>
        If you do not have your Codio course ready, use any text editor or simple IDE. Some possibilities are:
      </p>
      <ul>
        <li>Write using Sublime; Compile and run in the Terminal</li>
        <li>Use IDEs like: IntelliJ, DrJava, or JGrasp</li>
      </ul> 
<!--
      <p><br></p><hr><p><br></p>

      <h2>Catching Up</h2>

      <p>
        Before we move forward, let's catch up (complete any remaining work from the previous module)
        <br>
        In this case, make sure we've got:
        <ol>
          <li>One-Dimensional Arrays... Declaring, Initializing, and Accessing!</li>
        </ol>

      </p>
-->

<!-- SIMHA START -->

<p><br></p><hr><p><br></p>

<h2>
Constructors
</h2>


<p>
  Last class, we started talking about constructors. They help us do "setting up work" for each of the objects we create.
  <br>
  When we instanctiate an object, the steps followed are:
  <ol>
    <li>The <b>new</b> operator instantiates a class by allocating memory for a new object of that type. <b>new</b> requires a single argument: a call to a <b>constructor</b> method.</li>
    <li>The <b>new</b> operator creates the object</li>
    <li>The <b>constructor</b> initializes it.</li>
  </ol>
  <br>
  Let's work with the following two classes: <font size="+2" color="#000000"><tt>SimpleNode.java</tt></font> and <font size="+2" color="#000000"><tt>SimpleNodeApp.java</tt></font>

</p>

<p><font size="+1" color="#000000"><pre>
public class SimpleNode {
  private static int numNodes = 0;
  private int nodeId;
  private int data;
  private SimpleNode next;
  
  // Init: Constructor section:
  
  // Your code here
  
  // End: Constructor section

  public void setData(int num) {
      data = num;
  }
  public int getData() {
      return data;
  }
  
  public void setNext(SimpleNode n) {
      next = n;
  }
  
  public SimpleNode getNext() {
      return next;
  }
  
  public void printNodes(){
    System.out.printf("node: %3d -> data: %3d \n", this.nodeId, this.data );
  }
  
}
</pre></font></p>
<br>
<p>
  and: 
</p>
<p><font size="+1" color="#000000"><pre>
public class SimpleNodeApp {
  public static void main(String[] args) {
    SimpleNode n1 = new SimpleNode();
    SimpleNode n2 = new SimpleNode();

    n1.setData(11);
    n2.setData(22);

    n1.setNext(n2);
    n1.printNodes();
    n2.printNodes();
  }
}
</pre></font></p>
<br>
<p>
  In order to visualize the interaction of  <font size="+2" color="#000000"><tt>SimpleNode.java</tt></font> and <font size="+2" color="#000000"><tt>SimpleNodeApp.java</tt></font> in the Java Visualizer, we will momentarilly transfer the <font size="+2" color="#000000"><tt>main</tt></font> from <font size="+2" color="#000000"><tt>SimpleNodeApp.java</tt></font> into <font size="+2" color="#000000"><tt>SimpleNode.java</tt></font> and run it in a single file (this is so the Java Visualizer can run with a single file).
<br>
  test it here: <a href="https://cscircles.cemc.uwaterloo.ca/java_visualize/#code=public+class+SimpleNode+%7B%0A++private+static+int+numNodes+%3D+0%3B%0A++private+int+nodeId%3B%0A++private+int+data%3B%0A++private+SimpleNode+next%3B%0A+++%0A++public+static+void+main(String%5B%5D+args)+%7B%0A++++SimpleNode+n1+%3D+new+SimpleNode()%3B%0A++++SimpleNode+n2+%3D+new+SimpleNode()%3B%0A%0A++++n1.setData(11)%3B%0A++++n2.setData(22)%3B%0A%0A++++n1.setNext(n2)%3B%0A++++n1.printNodes()%3B%0A++++n2.printNodes()%3B%0A++%7D%0A++%0A++//+Init%3A+Constructor+section%3A%0A++%0A++//+Your+code+here%0A++%0A++//+End%3A+Constructor+section%0A%0A++public+void+setData(int+num)+%7B%0A++++++data+%3D+num%3B%0A++%7D%0A++public+int+getData()+%7B%0A++++++return+data%3B%0A++%7D%0A++%0A++public+void+setNext(SimpleNode+n)+%7B%0A++++++next+%3D+n%3B%0A++%7D%0A++%0A++public+SimpleNode+getNext()+%7B%0A++++++return+next%3B%0A++%7D%0A++%0A++public+void+printNodes()%7B%0A++++System.out.printf(%22node%3A+%253d+-%3E+data%3A+%253d+%5Cn%22,+this.nodeId,+this.data+)%3B%0A++%7D%0A++%0A%7D&mode=display&curInstr=0">SimpleNode Test 1</a>
</p>

Run over each step and notice the order of creation for the objects when we don't have constructors.
<br>
<span style='color:#06a015'><b><big>Activity 1 [Group work] (3-minutes)</big></b></span>: 
 
  <p>
    Add the "default" constructor method to <font size="+2" color="#000000"><tt>SimpleNode.java</tt></font> so that:
    <ol>
      <li>it assigns a <font size="+2" color="#000000"><tt>nodeId</tt></font> to the object equal to the current value of <font size="+2" color="#000000"><tt>numNodes</tt></font></li>
      <li>it increments <font size="+2" color="#000000"><tt>numNodes</tt></font></li>
    </ol>
    <br>
    Check that the printout now has different nodeId's for each node.
  </p>
<br>

<h4>Connecting objects</h4>

<p>
  You will notice that we connected SimpleNode <font size="+2" color="#000000"><tt>n2</tt></font> to SimpleNode <font size="+2" color="#000000"><tt>n1</tt></font> by putting its address inside <font size="+2" color="#000000"><tt>n1</tt></font>'s <font size="+2" color="#000000"><tt>next</tt></font> variable.
</p>


<p><br></p><hr><p><br></p>

<h2>
Classy Scope
</h2>


<p>Where is the problem in the following code?</p>

<p><font size="+1" color="#000000"><pre>
public class SimpleNode {
  private static int numNodes = 0;
  private int nodeId;
  private int data;
  private SimpleNode next;
  
  public SimpleNode(){
    // default initialization
  }

  public SimpleNode(int data, SimpleNode next){
    data = data;
    next = next;
  }

  public void setData(int num) {
      data = num;
  }
  public int getData() {
      return data;
  }
  
  public void setNext(SimpleNode n) {
      next = n;
  }
  
  public SimpleNode getNext() {
      return next;
  }
  
  public void printNodes(){
    System.out.printf("node: %3d -> data: %3d \n", nodeId, data );
  }
  
}
</pre></font></p>

Scope works the same with an object's variable as it did for global
variables:

<ul>
  <li>A local variable shadows an object's global variable.</li>
  <li>You can avoid these conflicts by choosing your variable names to
    be different from global variables.</li>
  <li>But what if you want to use the same name?</li>
</ul>


<p><font size="+1" color="#000000"><pre>
public class SimpleNode {
  private static int numNodes = 0;
  private int nodeId;
  private int data;
  private SimpleNode next;
  
  public SimpleNode(){
    // default initialization
  }

  public SimpleNode(int data, SimpleNode next){
    <span style='color:#0000cc'>this</span>.data = data;
    <span style='color:#0000cc'>this</span>.next = next;
  }

  public void setData(int num) {
      data = num;
  }
  public int getData() {
      return data;
  }
  
  public void setNext(SimpleNode n) {
      next = n;
  }
  
  public SimpleNode getNext() {
      return next;
  }
  
  public void printNodes(){
    System.out.printf("node: %3d -> data: %3d \n", nodeId, data );
  }
  
}
</pre></font></p>

<p>
<ul>
  <li><span style='color:#0000cc'>this</span> is a new keyword that denotes
    "the current object".</li>
  <li>Thus, <span style='color:#0000cc'>this</span>.data references the
  object's <font color="black">data</font> variable, not the
  method argument, or a local variable.</li>
  <li>The <i>type</i> of <font color="black">this</font> is the type
  of the object: <font color="black">SimpleNode</font>, in this case.
</ul>
</p>


<p><font color="black">this</font> is, generically, a variable that
  references the "current" object.</p>

<p>If a method takes a <font color="black">SimpleNode</font> argument, or
  a variable holds a <font color="black">SimpleNode</font>,
  <span style='color:#0000cc'>this</span> can be used.

<p><font size="+1" color="#000000"><pre>
public class SimpleNode {
  private static int numNodes = 0;
  private int nodeId;
  private int data;
  private SimpleNode next;
  
  public SimpleNode(){
    // default initialization
    next = this;
  }
}
</pre></font></p>

<br><br>

<h4>An extra level of fancy</h4>

<p>
  What if we wanted to print all the nodes that get connected?
  <br>
  Let's modify <font size="+2" color="#000000"><tt>printNodes</tt></font> together so that:
  <ol>
    <li>it prints the ccurrent node</li>
    <li>checks to see if the <font size="+2" color="#000000"><tt>next</tt></font> node is not null or equal to the current one</li>
    <li>if it is different, we call the <font size="+2" color="#000000"><tt>next</tt></font> node's <font size="+2" color="#000000"><tt>printNode</tt></font> method.</li>
  </ol>
</p>

<span style='color:#06a015'><b><big>Activity 2 [Class Participation] (3-minutes)</big></b></span>: 
Make the <font size="+2" color="#000000"><tt>printNodes</tt></font> method print and call the <font size="+2" color="#000000"><tt>next</tt></font> node's <font size="+2" color="#000000"><tt>printNode</tt></font> method.</li>:


<p><br></p><hr><p><br></p>

<h2>
Zombies.  Objectified Zombies.  Yeeeees.
</h2>


<p>Zombies...</p>
<ul>
  <li><p>Eat brains of humans.</p></li>
  <li><p>Turn bit humans into zombies.</p></li>
  <li><p>Can be killed by humans.</p></li>
</ul>

<p>Humans...</p>
<ul>
  <li><p>Shoot zombies in the brain (so much with the brains!).</p></li>
  <li><p>Fight other humans, and might kill them. (Why so mean?)</p></li>
  <li><p>Are turned into zombies when bit.</p></li>
  <li><p>Have names.</p></li>
</ul>


<span style='color:#06a015'><b><big>Activity 3 [Class Participation] (5-minutes)</big></b></span>: 

<ol>
  <li>Make a Person class, and a ZombiesMain class.  The latter has
      the main that will use the Person class.</li>
  <li>Each Person object is either a human or a zombie.</li>
  <li>If a Person object is a human, it has a name.</li>
  <li>Humans can shoot Person objects.</li>
  <li>Zombies can bite humans, which turns them into a
  zombie.</li>
  <li>Person objects created with constructors with no arguments
      are zombies.</li>
</ol>

Your job is to define a set of methods and data for the Person class
that will tell a story when each of the humans and zombies take
actions.  All of your data in the Person class must be private.  Be
creative!!!  A possible story line follows:

<p><font size="+1" color="#000000"><pre>
Person joe  = new Person("Joe");
Person bob  = new Person("Bob");
Person jane = new Person("Jane");
Person z    = new Person();

System.out.println(Person.numHumans() + " humans vs. " + Person.numZombies() + " zombies.");
z.bite(bob); // poor bob
bob.bite(z); // confused zombie
Person derpbie = bob;
derpbie.bite(derpbie); // this is getting ridiculous
System.out.println(Person.numHumans() + " humans vs. " + Person.numZombies() + " zombies.");

jane.shoot(z);    // humans FTW!
jane.shoot(joe);  // wait...what?
jane.shoot(jane); // oh...oh no.
System.out.println(Person.numHumans() + " humans vs. " + Person.numZombies() + " zombies.");

while (true) {
    derpbie.bite(derpbie); // bored zombie is bored
}
</pre></font></p>

An example execution of this program would be:

<font size="+1" color="#000000"><pre>
Joe, ready for action!
Bob, ready for action!
Jane, ready for action!
...mmmm, brains.  Oh noes, a zombie!
3 humans vs. 1 zombies.
Bob is gnawed on by a zombie.
The zombie formerly known as Bob bites a zombie, like an idiot.
The zombie formerly known as Bob is hungry...and remembers he has an arm.  Nomnomnomnom.
...etc...
</pre></font>

</font>

<!-- SIMHA END -->

      
      <div class="col-xs-0 col-md-2"></div>
      </div>
    </div>

    <footer class="footer py-3">
        <nav class="navbar navbar-expand-lg navbar-light bg-light my-1">
          <div class="collapse navbar-collapse">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link mx-lg-2" href="#">Go to the Top</a>
              </li>
            </ul>
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link mx-lg-2" href="./lectureNotes19.html">Previous Lecture</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link mx-lg-2" href="./lectureNotes21.html">Next Lecture</a>
              </li>
            </ul>
          </div>
        </nav>
      </footer>

    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

      <!-- PFB, Added For class Ctrl+C->Ctrl-V deterrence -->
      <!--
    <script type="text/JavaScript">
     //courtesy of BoogieJack.com
     function killCopy(e){ return false }
     function reEnable(){ return true }
     document.onselectstart=new Function ("return false")
     if (window.sidebar){
         document.onmousedown=killCopy
         document.onclick=reEnable
     }
   </script>
 -->
  </body>
</html>
